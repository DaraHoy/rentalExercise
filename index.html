<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="ie=edge" http-equiv="X-UA-Compatible"><!-- Bootstrap CDN -->
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js">
	</script>
	<link href="style.css" rel="stylesheet" type="text/css">
	<title>Car Dealership</title>
</head>
<body>
	<div class="container">
		<div class="row text-center">
			<div class="col-sm-12">
				<h1 id='name'></h1>
			</div>
		</div>
		<div class="row text-center">
			<div class="col-sm-12">
				<form class='form-inline' id="carSelect" name='carSelect' onsubmit='return makeReservation()'>
					<input name="name" placeholder='Your Name' type="text">
					<select name="type" id='dropDown' onchange='displayInfo(this.value)'>
						<option disabled hidden="" selected value="none">
							Select Vehicle
						</option>

					</select> <button class='btn btn-sm btn-primary' type='submit' value='submit'>Make a Reservation</button>
				</form>
			</div>
		</div>
	</div>
	<div class="row text-center">
		<div class="col-sm-12">
			<h3 id='displayInfo'></h3>
		</div>
	</div>
	<script>

	       var carRental = { // Car Rentals main data object
	           name: 'Renterprise',
	           Economy: {
	               price: 50,
	               available: 9

	           },
	           Subcompact: {
	               price: 80,
	               available: 10
	           },
	           Fullsize: {
	               price: 100,
	               available: 10
	           }
	       };

	       var types = [
	       		{
	       			size: "Economy",
	       			price: 50,
	       			available: 9
	       		},
	       		{
	       			size: "Subcompact",
	       			price: 80,
	       			available: 10
	       		},
	       		{
	       			size: "Fullsize",
	       			price: 100,
	       			available: 10
	       		}
	       	]

	       var rented = { //rented object to store renters name, each car type is given its own array
	           Economy: [],
	           Subcompact: [],
	           Fullsize: []
	       };

	    for(var i = 0; i < types.length; i++ ){
			var selectOpt = document.createElement('OPTION');
			selectOpt.setAttribute('value', types[i].size);
			selectOpt.innerHTML = types[i].size;
			document.getElementById('dropDown').appendChild(selectOpt);
	    }

	   function displayInfo(val){ //displays price and availability msg when a selection is made from the dropdown list
	       var selection = carRental[val];
	       document.getElementById('displayInfo').innerHTML = val + " $" + selection.price + "<br>" + selection.available + " Available" ;
	   }

	   function makeReservation(){
	       // Assigns the values from the Name field and Type slected
	       var size = document.forms["carSelect"]['type'].value;
	       var renter = document.forms["carSelect"]['name'].value;
	       // Form Validation if any field is left blank or unselected alert msg will pop
	       if( size == "none"){
	           alert("Please choose a car type");
	       }
	       else if( renter ==""){
	           alert("Please enter your name");
	       } else { //if Successful Renter's name is pushed to an array based on the size rented i.e. economy will go to rented.Economy
	           rented[size].push({name: renter, type: size})
	           carRental[size].available--; // after the amount availble, based on size, will decrement from carRental object
	           document.getElementById('displayInfo').innerHTML = "Thank You<br>Your reservation was successful!"
	       }
	       return false;
	   }

	</script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js">
	</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js">
	</script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js">
	</script>
</body>
</html>